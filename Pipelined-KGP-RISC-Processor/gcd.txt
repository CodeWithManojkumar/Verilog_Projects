// Finding GCD of Two Numbers
// R1 = first number also store it in data_memory[0]
// R2 = second number also store it in data_memory[1]
// Store the GCD in data_memory[2]

/* Instructions According to Processor */

ADDI R1, R0, #143;
ADDI R2, R0, #78;
ST   R1, 0(R0);
ST   R2, 1(R0);
SUB  R3, R1, R2;             (W)
BMI  R3, #3;     // if R1<R2 (X)
BPL  R3, #6;     // if R1>R2 (Y)
BZ   R3, #8;     // if R1=R2 (Z)
HLT;
SUB  R3, R2, R1; // if R1<R2 (X)
MOVE R2, R3;
BR   #-8;                    (W)
HLT;
MOVE R1, R3;     // if R1>R2 (Y)
BR   #-11;                   (W)
HLT;
ST   R1, 2(R0);  // if R1=R2 (Z)
HLT;

/* W,X,Y,Z are the positions of Instructions */

/* Binary Code */

010000_00000_00001_0000000010001111
010000_00000_00010_0000000001001110
100010_00000_00001_0000000000000000
100010_00000_00010_0000000000000001
000000_00001_00010_00011_00000_000010
110001_00011_00011_0000000000000011
110010_00011_00011_0000000000000110
110011_00011_00011_0000000000001000
11111111111111111111111111111111
000000_00010_00001_00011_00000_000010
011010_00011_00010_0000000000000000
110000_11111111111111111111111000
11111111111111111111111111111111
011010_00011_00001_0000000000000000
110000_11111111111111111111110101
11111111111111111111111111111111
100010_00000_00001_0000000000000010
11111111111111111111111111111111

/* The Hex file is fetched in the testbench. gcd_test.v */